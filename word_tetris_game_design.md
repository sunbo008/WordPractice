# 单词俄罗斯方块游戏设计方案

## 🎮 游戏概述

### 游戏名称

**Word Tetris** (单词俄罗斯方块)

### 核心理念

结合经典俄罗斯方块的游戏机制与英语单词学习，创造一个既有趣又有教育意义的语言学习游戏。学生通过填补缺失字母来"击落"下降的单词，在游戏中自然地学习和巩固英语词汇。

### 目标用户

- **主要用户**：小学 6 年级学生（11-12 岁）
- **辅助用户**：英语初学者、希望提高拼写能力的学习者
- **教育场景**：课堂教学、课后练习、家庭学习

---

## 🎯 游戏机制设计

### 基础玩法

1. **单词下降**：完整单词从屏幕顶部缓冲区开始下降
2. **字母缺失**：单词中随机缺失 1-2 个字母，显示为空格或下划线
3. **玩家输入**：玩家通过键盘实时输入缺失的字母，无需确认键
4. **炮管射击机制**：当输入的字母数量和内容完全正确时，底部炮管发射炮弹击中单词，单词爆炸消失
5. **错误处理**：输入错误字母时，在该字母上显示血色红叉，并清空所有输入等待重新输入
6. **放弃按键**：玩家可以按"放弃"按键（如空格键）将当前单词直接放入堆叠区
7. **堆叠机制**：只有放弃或输入错误的单词才会在堆叠区从底部向上堆叠
8. **顺序下降**：**只有当前单词被射击消失或放入堆叠区后，下一个单词才开始从缓冲区下降**
9. **语音朗读**：**单词开始下降时立即播放英式发音朗读，之后每 5 秒重复朗读一次，直到单词被射击击落或放入堆叠区为止**
10. **游戏结束**：堆叠区完全填满时游戏结束
11. **等级清空**：每次进入下一难度时，堆叠区清空并生成生词本

**游戏区域规则：**

- **缓冲区**：单词准备和倒计时区域

  - 单词首先出现在缓冲区
  - **信号灯倒计时**：红灯（1 秒）→ 黄灯（1 秒）→ 绿灯（1 秒）依次亮起
  - **重要**：必须确保绿灯完整亮起 1 秒钟
  - 绿灯亮起期间，单词开始匀速下降

- **统一游戏区域**：下降与堆叠的统一空间
  - **单个单词下降**：同时只有一个单词在游戏区域内下降
  - 玩家可以输入缺失字母或按"放弃"按键
  - **炮管射击**：输入完全正确时，底部炮管发射炮弹击中单词，单词爆炸消失
  - **错误反馈**：输入错误字母时显示血色红叉，清空输入重新开始
  - **手动放弃**：按"放弃"按键直接将单词放入堆叠区
  - **顺序机制**：当前单词被射击消失或放入堆叠区后，下一个单词才从缓冲区开始下降
  - **堆叠区用途**：专门存放放弃或失败的单词
  - **炮管位置**：位于游戏区域底部，瞄准当前下降的单词
  - 堆叠到顶部（接近缓冲区）时游戏结束
  - 每个难度结束时堆叠区清空

---

## 📊 难度与评分系统

### 难度等级设计

**基础速度设定：3 帧 1 像素**（初始下降速度）

| 等级  | 分数要求   | 下降速度                      | 缺失字母数 | 词汇难度     | 单词级别 |
| ----- | ---------- | ----------------------------- | ---------- | ------------ | -------- |
| 1 级  | 0-99 分    | 基础速度（3 帧 1 像素）       | 1 个字母   | 3-4 字母单词 | 难度1专用 |
| 2 级  | 100-199 分 | +5%速度（约 2.85 帧 1 像素）  | 1-2 个字母 | 4-5 字母单词 | 难度1专用 |
| 3 级  | 200-299 分 | +10%速度（约 2.7 帧 1 像素）  | 1-2 个字母 | 5-6 字母单词 | 难度2专用 |
| 4 级  | 300-399 分 | +15%速度（约 2.55 帧 1 像素） | 2 个字母   | 6-7 字母单词 | 难度2专用 |
| 5 级+ | 每 100 分  | +5%速度（递减）               | 2-3 个字母 | 复杂单词     | 难度3专用 |

### 🔒 单词级别互斥原则

#### 核心规则
- **严格分离**：每个单词只能属于一个难度级别
- **无重复**：同一单词不能同时出现在多个难度级别中
- **独立词库**：不同级别使用完全独立的单词集合
- **渐进难度**：确保学习路径的清晰性和连贯性

#### 级别分配策略
- **Level 1-2**：仅使用 `difficulty: 1` 的单词
- **Level 3-4**：仅使用 `difficulty: 2` 的单词
- **Level 5+**：仅使用 `difficulty: 3` 的单词

#### 技术实现
```javascript
// 严格筛选：只选择指定难度的单词，确保级别互斥
const filteredWords = this.allWords.filter(word => 
    word.difficulty === targetDifficulty
);
```

#### 质量保证
- **自动去重**：加载时自动检测并跳过重复单词
- **分布验证**：验证每个难度级别有足够的单词数量
- **警告机制**：当某个难度级别单词不足时发出警告

### 评分规则

- **基础分数**：每个正确字母 = 1 分
- **射击奖励**：成功射击单词额外+2 分
- **速度奖励**：快速射击单词额外+50%分数
- **连击奖励**：连续射击 3 个以上单词，每个额外+1 分
- **完美奖励**：一个等级内零失误（无单词进入堆叠区），额外+20 分
- **放弃惩罚**：使用"放弃"按键将单词放入堆叠区，-1 分

### 特殊机制

- **等级末尾挑战**：每个等级的最后 10 个单词，缺失字母数量+1
- **时间压力**：随着等级提升，给玩家思考的时间逐渐减少
- **信号灯机制详细说明**：
  - 第 1 秒：只有红灯亮起，黄灯和绿灯熄灭
  - 第 2 秒：只有黄灯亮起，红灯和绿灯熄灭
  - 第 3 秒：只有绿灯亮起，红灯和黄灯熄灭
  - 绿灯亮起的同时，单词开始下降
  - **关键**：绿灯必须完整显示 1 秒钟，不能被跳过
- **堆叠区管理**：
  - 堆叠区与游戏区域合并为统一空间
  - 单词按到达顺序从底部向上堆叠
  - 堆叠到接近缓冲区时触发游戏结束
- **等级转换机制**：
  - 达到等级分数要求时，堆叠区自动清空
  - 堆叠区中的所有单词自动加入生词本
  - 播放等级提升动画，显示生词本统计

---

## 🎨 界面设计方案

### 主游戏界面布局

```
┌─────────────────────────────────────────────────────────┐
│  分数: 156  等级: 2  目标: 200  生词本: 12  时间: 02:34  │  ← 计分信息区
├─────────────────────────────────────────────────────────┤
│  考试总词量: 135  正确命中: 28 (21%)  覆盖率: 21%      │  ← 考试统计栏
├─────────────────────────────────────────────────────────┤
│                    单词缓冲区                            │  ← 单词准备区
│              🔴 🟡 🟢 信号灯                           │  ← 倒计时指示
├─────────────────────────────────────────────────────────┤
│                                                         │
│                  h_ll_                                  │  ← 当前下降的单词（小写显示）
│                     ↑                                   │  ← 炮弹轨迹（射击时显示）
│                                                         │
│                                                         │
│                                                         │  ← 统一游戏区域
│  [house] [cat] [dog] [tree] [book]                     │  ← 堆叠的失败单词
│  [water] [happy] [sun] [moon]                          │  ← 从底部向上堆叠
│  [star] [light] [red] [blue]                           │  ← 灰色显示
│  [green] [yellow] [black]                              │  ← 放弃的单词
│  [white] [orange]                                      │  ← 底部最早堆叠
├─────────────────────────────────────────────────────────┤
│                        🔫                              │  ← 炮管（瞄准上方单词）
└─────────────────────────────────────────────────────────┘
│  当前输入: [o]  实时显示: h[o]ll[❌]  [空格键: 放弃]     │  ← 实时输入区域（显示错误标记）
└─────────────────────────────────────────────────────────┘
```

### 视觉设计要素

- **颜色方案**：

  - 背景：深蓝色渐变
  - 单词：白色/黄色文字，**统一使用小写字母显示**
  - 缺失字母：红色下划线
  - 正确输入字母：绿色高亮显示，**字体比其他字母大 1.2-1.5 倍**
  - 错误输入字母：血色红叉（❌）覆盖显示
  - 完全正确单词：金色边框高亮，准备射击
  - 炮管：金属灰色，瞄准当前单词
  - 炮弹轨迹：橙色/黄色光束效果
  - 爆炸特效：多彩粒子爆炸动画
  - **中文翻译显示**：爆炸时炸出该单词的中文翻译，字体比英文单词大 2-3 倍
  - 堆叠单词：灰色显示（放弃或失败的单词）

- **动画效果**：

  - 单词平滑下降
  - 实时输入字母的高亮反馈
  - **输入字母放大**：玩家输入的字母逐渐放大到 1.2-1.5 倍
  - **炮管射击动画**：炮弹从炮管发射到单词的轨迹动画
  - **爆炸特效**：单词被击中时的多彩粒子爆炸效果
  - **中文翻译爆炸动画**：
    - 英文单词消失的同时，中文翻译从小到大弹出
    - 中文字体从 0.5 倍放大到 2-3 倍大小
    - 中文显示 1-2 秒后淡出消失
    - 配合粒子爆炸效果，营造震撼的视觉冲击
  - **错误反馈动画**：错误字母上血色红叉的闪烁显示
  - **输入清空动画**：错误后所有输入字母的淡出效果
  - 放弃单词时的下沉到堆叠区动画
  - 完全正确时的金色闪烁特效
  - 分数增加的飞行动画
  - 等级提升的庆祝动画

- **音频效果**：
  - **单词朗读**：单词开始下降时自动播放英式发音
  - **重复朗读**：每 5 秒自动重复播放，强化听力记忆
  - **朗读停止**：单词被击落或堆叠时立即停止朗读

---

## 📚 教育价值设计

### 学习目标

1. **拼写能力**：通过填补缺失字母提高拼写准确性
2. **词汇记忆**：在游戏压力下加深单词印象
3. **反应速度**：提高英语思维的快速反应能力
4. **语音意识**：通过字母组合理解发音规律
5. **听力训练**：通过持续的单词朗读，建立单词发音与拼写的关联，培养听音辨词能力
6. **标准发音学习**：接触标准英式发音，培养正确的发音习惯
7. **词义理解**：通过爆炸时显示的中文翻译，强化英文单词与中文意思的关联记忆

### 词汇库设计

- **分级词汇**：根据小学 6 年级英语课程标准
- **主题分类**：动物、颜色、家庭、学校、食物等
- **难度递进**：从常见词汇到复杂词汇
- **音标关联**：结合项目中的音标学习材料

### 学习反馈机制

- **实时反馈**：每次按键都有即时的视觉反馈，正确字母绿色高亮并放大，错误字母红色闪烁
- **成功奖励反馈**：射击成功时的中文翻译爆炸效果，强化词义记忆
- **学习报告**：游戏结束后显示学习统计
- **生词本系统**：
  - 自动收集堆叠区中的放弃或失败单词
  - 成功射击的单词不进入生词本（表示已掌握）
  - **升级时保留生词本**：升级时生词本不清空，持续累积
  - **重置时清空生词本**：只有重置游戏时才清空生词本和统计数据
  - 提供生词本复习模式和测试功能
- **考试统计系统**：
  - **考试总词量**：显示单词库中的总单词数（135个）
  - **正确命中**：显示成功射击的不重复单词数量
  - **命中率**：正确命中单词数 / 考试总词量 × 100%
  - **覆盖率**：与命中率相同，表示对单词库的掌握程度
  - **去重统计**：同一单词多次命中只计算一次
  - **实时更新**：每次成功射击后立即更新统计显示
  - 记录每个生词的放弃次数和掌握程度
- **错误回顾**：记录错误单词，提供复习机会
- **进度追踪**：长期学习进度的可视化展示

---

## 🛠️ 技术实现方案

### 开发平台选择

**推荐方案：Web-based 游戏**

- **前端**：HTML5 Canvas + JavaScript
- **框架**：Phaser.js 或 PixiJS
- **优势**：跨平台、易部署、易更新

**备选方案：移动应用**

- **框架**：React Native 或 Flutter
- **优势**：更好的移动体验、离线功能

### 核心功能模块

1. **游戏引擎模块**

   - 单词顺序下降控制（单个单词机制）
   - **缓冲区信号灯系统**：确保红 → 黄 → 绿灯各亮 1 秒，绿灯必须完整显示
   - 堆叠区管理（专门存放失败单词）
   - 实时输入处理与自动射击判定
   - **炮管射击系统**：炮弹轨迹计算与动画
   - **错误处理系统**：红叉显示与输入清空逻辑
   - "放弃"按键处理
   - **爆炸特效系统**：粒子效果与单词消失动画
   - **语音朗读系统**：单词下降时的英式发音播放与定时重复机制
   - 分数计算与正确性评估
   - 等级转换逻辑
   - **游戏重置系统**：
     - 页面刷新自动重置：加载时自动清空所有数据
     - 手动重置自动开始：点击重置按钮后自动开始游戏
     - 重置类型区分：不同触发方式的不同后续行为

2. **分布式词汇管理模块**

   - **词库架构设计**：
     - 配置文件管理：config.json统一管理词库元数据
     - 分布式存储：按主题拆分词库文件（basic-phonics.json、special-phonics.json等）
     - 动态加载机制：按需加载用户选择的词库文件
   - **VocabularyManagerV2**：
     - 异步加载系统：并行加载多个词库文件
     - 配置管理：支持用户自定义词库选择和高级设置
     - 本地存储：用户设置持久化保存
     - 兼容性保证：保持与原有游戏逻辑的完全兼容
   - 难度分级和随机选择算法
   - 字母缺失算法
   - **中文翻译管理**：每个英文单词对应准确的中文翻译

3. **界面渲染模块**

   - Canvas 绘制
   - **炮管渲染**：炮管位置、瞄准方向显示
   - **炮弹轨迹渲染**：射击时的光束效果
   - **粒子系统**：爆炸特效的粒子动画
   - **中文翻译渲染**：爆炸时中文翻译的放大动画效果
   - **字体大小控制**：
     - 主要单词显示：32px字体（从20px增加，提升60%可见性）
     - 缓冲区单词显示：28px字体（从24px增加，提升17%可见性）
     - 输入字母放大显示：1.2-1.5倍大小
   - **单词大小写控制**：所有单词统一使用小写字母显示，提升阅读体验
   - **输入字母小写化**：用户输入以小写形式显示，验证时转为大写比较
   - **错误标记渲染**：血色红叉的显示与动画
   - 实时输入反馈动画
   - 单词下沉到堆叠区动画
   - 用户界面
   - 响应式设计
   - 堆叠区可视化（失败单词存储）

4. **生词本管理模块**

   - 生词自动收集
   - **生词本总数显示**：标题动态显示当前生词数量"生词本 (数量)"
   - 生词本生成
   - 掌握度统计
   - **简化导出功能**：导出为文本格式"单词, 音标, 中文翻译"
   - **清空逻辑优化**：
     - 升级时保留生词本（持续累积）
     - 重置时清空生词本（完全重新开始）

5. **语音朗读模块**

   - **TTS 引擎集成**：使用 Web Speech API 或第三方 TTS 服务
   - **英式发音配置**：设置语音为英式英语（en-GB）
   - **朗读触发时机**：
     - 单词开始下降时立即播放第一次
     - 启动定时器，每 5 秒自动重复播放
   - **朗读停止条件**：
     - 单词被成功射击击落时停止
     - 单词被放入堆叠区时停止
     - 清除定时器，停止后续重复播放
   - **音量控制**：提供音量调节和静音选项
   - **降级方案**：浏览器不支持 TTS 时的静默处理

6. **数据存储模块**
   - 游戏进度保存
   - 生词本数据
   - 学习统计
   - 设置保存（包括音量和语音设置）
   - 离线数据同步

7. **考试统计模块**
   - **命中单词跟踪**：使用Set数据结构存储已命中的单词（去重）
   - **下落单词跟踪**：使用Set数据结构存储所有下落过的单词（去重）
   - **双重统计计算**：
     - 命中率：命中单词数 ÷ 下落单词数 × 100%（反映游戏表现）
     - 覆盖率：命中单词数 ÷ 总单词库数量 × 100%（反映学习进度）
   - **统计显示更新**：每次射击成功后更新UI显示
   - **数据持久化**：统计数据随游戏进度保存
   - **重置机制**：重置游戏时清空所有统计数据

8. **词库设置管理模块**
   - **设置界面系统**：
     - 词库选择界面：可视化展示所有可用词库
     - 词库卡片设计：显示名称、描述、单词数、难度、推荐状态
     - 切换控制：支持启用/禁用词库的直观切换
   - **配置管理系统**：
     - 实时配置更新：设置变更立即生效
     - 本地存储：用户偏好设置持久化保存
     - 默认配置：提供合理的默认词库组合
     - 配置验证：确保至少启用一个词库
   - **高级设置选项**：
     - 最大单词数量：控制游戏中使用的单词总数
     - 难度范围：设置允许的单词难度范围
     - 分类筛选：按词库分类进行筛选
   - **统计预览功能**：
     - 实时统计：显示当前配置下的总单词数
     - 词库分布：展示各词库的单词数量分布
     - 难度分析：显示不同难度级别的单词分布

### 性能优化考虑

- **内存管理**：及时清理已击落的单词对象
- **渲染优化**：使用对象池减少 GC 压力
- **资源加载**：预加载常用资源，懒加载高级内容
- **响应性**：确保 60FPS 的流畅体验

---

## 🎮 游戏功能扩展

### 基础功能

- [x] 单词下降机制
- [x] 字母填空玩法
- [x] 分数与等级系统
- [x] 缓冲区机制

### 进阶功能

- [ ] **生词本复习**：专门的生词复习模式
- [ ] **生词本测试**：基于生词本的专项测试
- [ ] **多人模式**：与同学竞赛或合作
- [ ] **主题模式**：专门练习某类词汇
- [ ] **时间挑战**：限时模式增加紧张感
- [ ] **音标模式**：结合音标学习的特殊模式
- [ ] **生词导出**：将生词本导出为学习卡片

### 高级功能

- [ ] **AI 助手**：智能提示和学习建议
- [ ] **语音识别**：说出单词而非打字
- [ ] **AR 模式**：增强现实的沉浸式体验
- [ ] **社交功能**：分享成绩、挑战好友

---

## 📈 商业化与推广

### 盈利模式

1. **免费增值**：基础功能免费，高级功能付费
2. **教育授权**：向学校和教育机构授权
3. **内容订阅**：定期更新词汇包和主题
4. **广告收入**：适度的教育相关广告

### 推广策略

1. **教育渠道**：与学校和培训机构合作
2. **家长社群**：在家长群体中推广
3. **应用商店**：ASO 优化，获得推荐位
4. **社交媒体**：制作游戏视频和教程

---

## 🚀 开发时间线

### 第一阶段：原型开发（4-6 周）

- 基础游戏机制实现
- 简单 UI 界面
- 核心玩法验证
- 小规模用户测试

### 第二阶段：功能完善（6-8 周）

- 完整 UI/UX 设计
- 音效和动画
- 数据存储系统
- 多设备适配

### 第三阶段：内容制作（4-6 周）

- 词汇库建设
- 关卡设计
- 教学内容整合
- 测试和优化

### 第四阶段：发布准备（2-4 周）

- 最终测试
- 性能优化
- 发布准备
- 营销材料制作

---

## 💡 创新亮点

### 教育游戏化

- **寓教于乐**：在游戏中自然学习，避免枯燥记忆
- **即时反馈**：立即知道对错，加强学习效果
- **进度可视**：清晰的进步轨迹，增强学习动机

### 技术创新

- **智能难度调节**：根据玩家表现动态调整难度
- **个性化学习**：记录学习偏好，推荐合适内容
- **跨平台同步**：多设备学习进度同步

### 用户体验

- **简单易学**：游戏规则简单，上手容易
- **高度沉浸**：紧张刺激的游戏节奏
- **成就感强**：清晰的进步反馈和奖励机制
- **视觉友好**：使用小写字母显示，符合阅读习惯，降低视觉压迫感

---

## 📋 风险评估与应对

### 技术风险

- **性能问题**：单词渲染和动画效果可能影响性能
  - _应对_：优化渲染算法，使用对象池
- **兼容性问题**：不同设备的适配问题
  - _应对_：充分测试，响应式设计

### 教育风险

- **学习效果**：游戏性可能影响学习专注度
  - _应对_：平衡游戏性和教育性，定期评估
- **内容质量**：词汇选择可能不够科学
  - _应对_：与教育专家合作，基于课程标准

### 市场风险

- **竞争激烈**：教育游戏市场竞争激烈
  - _应对_：突出特色，专注细分市场
- **用户获取**：获取目标用户可能困难
  - _应对_：多渠道推广，重视口碑营销

---

## 🎯 成功指标

### 用户指标

- **日活跃用户**：目标 1000+
- **用户留存率**：7 日留存>30%
- **平均游戏时长**：15-20 分钟/次

### 学习效果指标

- **词汇掌握率**：游戏中练习的单词掌握率>80%
- **拼写准确率**：相比游戏前提升>20%
- **学习兴趣**：用户满意度>4.5/5.0

### 商业指标

- **用户获取成本**：<$5/用户
- **付费转化率**：>5%
- **月收入**：目标$10,000+

---

## 📞 下一步行动

### 即时行动

1. **用户调研**：与目标用户群体深度访谈
2. **技术验证**：制作简单原型验证核心机制
3. **竞品分析**：研究现有教育游戏的优缺点
4. **团队组建**：招募或联系开发团队成员

### 短期计划

1. **详细设计**：完善游戏设计文档
2. **技术选型**：确定开发技术栈
3. **资源准备**：准备开发所需资源
4. **合作洽谈**：与教育机构初步接触

---

## 📝 设计更新日志

### 2025-10-05 更新 v7
- **三级层级化词库分类系统**：重构词库组织架构
  - **按天学习音标（15天课程）**：
    - Day 1-14：系统化音标学习，每天一个重点音标
    - 包含长元音、短元音、双元音、中性元音等
    - 每天10-15个精选单词，配合音标发音练习
  - **专项强化练习（4个专项）**：
    - /æ/ 专项练习：20个重点单词
    - /e/ 专项练习：20个重点单词
    - /ɔ:/ 专项练习：20个重点单词
    - /ɒ/ 专项练习：18个重点单词
  - **按年级分类（小学/初中/高中）**：
    - 小学词汇：三至六年级，每年级分上下学期（8个学期）
    - 初中词汇：七至九年级，每年级分上下学期（6个学期）
    - 高中词汇：高一至高三，每年级分上下学期（6个学期）
    - 共20个学期，覆盖基础教育全阶段
- **可视化层级选择界面**：
  - 三级展开/折叠功能：大分类→子分类→具体课程
  - 实时统计显示：已选课程数、总单词数、难度范围
  - 批量操作支持：分类全选、年级全选、一键重置
  - 选中状态可视化：绿色高亮+勾选标记
- **目录结构优化**：
  ```
  words/
  ├── config-v2.json           # 层级化配置文件
  ├── daily-phonics/           # 按天学习音标
  │   ├── day01.json          # Day 1课程
  │   ├── day02.json          # Day 2课程
  │   └── ...
  ├── special-practice/        # 专项练习
  │   ├── ae-practice.json    # /æ/专项
  │   ├── e-practice.json     # /e/专项
  │   └── ...
  └── grade-based/            # 按年级分类
      ├── primary/            # 小学
      │   ├── grade3-term1.json
      │   └── ...
      ├── middle/             # 初中
      │   └── ...
      └── high/               # 高中
          └── ...
  ```

### 2025-10-05 更新 v6
- **分布式单词库架构**：重构单词库管理系统
  - 单词库分离：将单个大文件拆分为多个主题文件（基础音标、专项练习、常用单词等）
  - 配置化管理：通过config.json统一管理所有可用词库的元数据和配置
  - 动态加载：支持按需加载指定的词库文件，减少初始加载时间
  - 用户自定义：提供设置页面让用户选择启用哪些词库进行练习
- **词库设置系统**：新增专门的设置页面
  - 词库选择界面：可视化展示所有可用词库，支持启用/禁用切换
  - 词库信息展示：显示每个词库的描述、单词数量、难度等级、推荐状态
  - 高级设置选项：最大单词数、难度范围等个性化配置
  - 实时预览：配置变更时实时显示影响的单词数量和统计信息
- **技术架构升级**：
  - VocabularyManagerV2：全新的分布式词汇管理器
  - 异步加载机制：支持并行加载多个词库文件
  - 本地存储集成：用户设置自动保存到localStorage
  - 错误处理增强：更友好的加载失败提示和降级方案

### 2025-10-05 更新 v5
- **界面显示优化**：提升单词可见性和用户体验
  - 单词字体增大：主要单词从20px增加到32px，缓冲区单词从24px增加到28px
  - 输入字母小写化：用户输入的字母以小写形式显示，但验证时仍转为大写比较
  - 生词本总数显示：生词本标题显示当前生词数量，格式为"生词本 (数量)"
- **统计系统修正**：修复命中率计算逻辑错误
  - 命中率重新定义：命中单词数 ÷ 下落单词数（去重）× 100%
  - 覆盖率保持不变：命中单词数 ÷ 总单词库数量 × 100%
  - 新增下落单词统计：跟踪所有下落过的单词（去重），用于准确计算命中率
- **游戏流程优化**：简化用户操作流程
  - 页面刷新自动重置：页面加载时自动执行游戏重置，清空所有数据
  - 重置按钮自动开始：点击重置按钮后自动开始游戏，实现一键重新开始
  - 区分重置类型：手动重置自动开始，刷新重置仅重置不开始

### 2025-10-05 更新 v4
- **生词本逻辑修正**：修复生词本清空逻辑错误
  - 升级时保留生词本：升级不清空生词本，持续累积学习记录
  - 重置时清空生词本：只有重置游戏时才清空生词本和统计数据
- **考试统计系统**：新增考试进度跟踪功能
  - 考试总词量显示：显示单词库总数（135个单词）
  - 正确命中统计：记录成功射击的不重复单词数量
  - 覆盖率计算：正确命中数 / 总词量 × 100%（表示学习进度）
  - 去重机制：同一单词多次命中只计算一次
  - 实时更新：每次成功射击后立即更新显示
  - 注：v5版本中修正了命中率计算逻辑

### 2025-10-05 更新 v3
- **单词级别互斥原则**：确保每个单词只出现在一个难度级别中
  - 核心规则：严格分离、无重复、独立词库、渐进难度
  - 技术实现：修改筛选逻辑，使用 `difficulty === targetDifficulty`
  - 质量保证：自动去重、分布验证、警告机制
  - 级别分配：Level 1-2使用难度1，Level 3-4使用难度2，Level 5+使用难度3

### 2025-10-05 更新 v2
- **全局键盘响应**：实现无需点击输入框的键盘输入
  - 字母键直接输入、Enter提交、Backspace删除、Space放弃
  - 移除备用单词库，优化错误处理机制
  - 等级提升弹窗自动关闭和键盘快捷键支持

### 2025-10-05 更新 v1
- **单词显示优化**：统一使用小写字母显示所有单词
  - 视觉设计：在颜色方案中明确要求小写字母显示
  - 技术实现：在界面渲染模块中添加大小写控制功能
  - 用户体验：降低视觉压迫感，符合阅读习惯
  - 界面示例：更新所有示例为小写字母显示

---

**这个游戏方案结合了娱乐性和教育性，有望成为一个成功的英语学习工具！** 🌟

**让学习变得有趣，让游戏变得有意义！** 🎮📚
